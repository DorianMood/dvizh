{"version":3,"sources":["panels/Meta.js","panels/EventCard.js","utils/Filter.js","panels/FilterPanel.js","panels/EventCardList.js","panels/UserProfile.js","panels/FriendsEvents.js","panels/LocationEvents.js","panels/TabsRoot.js","App.js","routes.js","index.js","create-router.js"],"names":["Meta","name","content","ProjectCard","props","project","size","before","description","style","display","location","asideContent","Math","round","price","bottomContent","mode","marginLeft","Filter","date","args","this","element","key","value","FilterPanel","filterValues","onUpdate","defaultChecked","onChange","e","target","checked","ProjectCardList","events","useState","currentModal","setCurrentModal","filter","setFilter","filterModal","activeModal","onClose","id","header","level","dynamicContentHeight","data","modal","separator","onClick","map","GET_PROJECTS","gql","UserProfile","useQuery","loading","error","fetchedUser","setUser","useEffect","a","bridge","send","user","subscribe","detail","type","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","fetchData","alignItems","flexDirection","marginTop","message","className","disabled","multiline","src","photo_200","text","item","weight","first_name","last_name","Events","GET_EVENTS","FriendsEvents","setFriends","friends","EventCardList","LocationEvents","setLocation","defaultState","center","zoom","width","TABS__","icon","TabsRoot","activeStory","setActiveStory","onStoryChange","currentTarget","dataset","story","tabBarComponent","index","selected","data-story","tabbar","client","ApolloClient","uri","App","path","router","createRouter","routes","defaultRoute","usePlugin","loggerPlugin","browserPlugin","useHash","start","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7ebf2240.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Meta = () => {\r\n  return (\r\n      <meta\r\n        name=\"viewport\"\r\n        content=\"width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, viewport-fit=cover\"\r\n      ></meta>\r\n  );\r\n};\r\n\r\nexport default Meta;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Card, Cell, Button, Avatar } from \"@vkontakte/vkui\";\r\nimport Icon24User from \"@vkontakte/icons/dist/24/user\";\r\nimport Icon16Place from \"@vkontakte/icons/dist/16/place\";\r\nimport Icon24MoneyCircle from \"@vkontakte/icons/dist/24/money_circle\";\r\n\r\nconst ProjectCard = (props) => {\r\n  const { project } = props;\r\n\r\n  return (\r\n    <Card size=\"l\">\r\n      <Cell\r\n        before={\r\n          <Avatar size={32}>\r\n            <Icon24User />\r\n          </Avatar>\r\n        }\r\n        size=\"l\"\r\n        description={\r\n          <div style={{ display: \"flex\" }}>\r\n            <Icon16Place />\r\n            {project.location.name}\r\n          </div>\r\n        }\r\n        asideContent={\r\n          <div>\r\n            <Icon24MoneyCircle />\r\n            {Math.round(project.price)}\r\n          </div>\r\n        }\r\n        bottomContent={\r\n          <>\r\n            <div>{project.description}</div>\r\n            <div style={{ display: \"flex\" }}>\r\n              <Button size=\"m\">Пойду</Button>\r\n              <Button size=\"m\" mode=\"secondary\" style={{ marginLeft: 8 }}>\r\n                Скрыть\r\n              </Button>\r\n            </div>\r\n          </>\r\n        }\r\n      >\r\n        {project.name}\r\n      </Cell>\r\n    </Card>\r\n  );\r\n};\r\n\r\nProjectCard.propTypes = {\r\n  project: PropTypes.any.isRequired,\r\n};\r\n\r\nexport default ProjectCard;\r\n","class Filter {\n    constructor(location, date, args) {\n        this.location = location;\n        this.date = date;\n    }\n    update(element) {\n        this[element.key] = element.value;\n    }\n}\n\nexport default Filter;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Switch,\r\n  Cell,\r\n  Div\r\n} from \"@vkontakte/vkui\";\r\n\r\nconst FilterPanel = (props) => {\r\n\r\n  const { filterValues, onUpdate } = props;\r\n\r\n  return (\r\n    <Div>\r\n      <Cell asideContent={<Switch defaultChecked={filterValues['location']} onChange={(e) => onUpdate({ key: 'location', value: e.target.checked })} />}>Рядом</Cell>\r\n      <Cell asideContent={<Switch defaultChecked={filterValues['date']} onChange={(e) => onUpdate({ key: 'date', value: e.target.checked })} />}>Скоро</Cell>\r\n      <Cell></Cell><Cell></Cell>\r\n    </Div>\r\n  )\r\n};\r\n\r\nFilterPanel.propTypes = {\r\n  onUpdate: PropTypes.func.isRequired,\r\n  filterValues: PropTypes.object.isRequired\r\n};\r\n\r\nexport default FilterPanel;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Group,\r\n  CardGrid,\r\n  CellButton,\r\n  View,\r\n  ModalRoot,\r\n  ModalPage,\r\n  ModalPageHeader,\r\n  Title,\r\n} from \"@vkontakte/vkui\";\r\n\r\nimport Icon24Sort from \"@vkontakte/icons/dist/24/sort\";\r\n\r\nimport ProjectCard from \"./EventCard\";\r\nimport Filter from \"../utils/Filter\";\r\nimport FilterPanel from \"./FilterPanel\";\r\n\r\nconst MAIN_MODAL = \"main-modal\";\r\n\r\nconst ProjectCardList = (props) => {\r\n  const { events } = props;\r\n\r\n  const [currentModal, setCurrentModal] = useState(null);\r\n\r\n\r\n  // Put filter to state to update component\r\n  const [filter, setFilter] = useState(new Filter(null, null));\r\n\r\n\r\n  const updateFilter = (data) => {\r\n    const {key, value} = data;\r\n    setFilter({\r\n      ...filter,\r\n      [key]: value\r\n    })\r\n  }\r\n\r\n  const filterModal = (\r\n    <ModalRoot\r\n      activeModal={currentModal}\r\n      onClose={() => {\r\n        setCurrentModal(null);\r\n      }}\r\n    >\r\n      <ModalPage\r\n        id={MAIN_MODAL}\r\n        header={<ModalPageHeader><Title level=\"2\">Фильтры</Title></ModalPageHeader>}\r\n        dynamicContentHeight\r\n      >\r\n        <FilterPanel filterValues={filter} onUpdate={updateFilter} />\r\n      </ModalPage>\r\n    </ModalRoot>\r\n  );\r\n\r\n  const filteredEvents = events.filter((element) => {\r\n    return true;\r\n  });\r\n\r\n  return (\r\n    <View modal={filterModal}>\r\n      <Group\r\n        separator=\"hide\"\r\n        header={\r\n          <CellButton\r\n            before={<Icon24Sort />}\r\n            onClick={() => {\r\n              setCurrentModal(MAIN_MODAL);\r\n            }}\r\n          >\r\n            Фильтровать\r\n          </CellButton>\r\n        }\r\n      >\r\n        <CardGrid>\r\n          {events.map((project, key) => (\r\n            <ProjectCard key={key} project={project} />\r\n          ))}\r\n        </CardGrid>\r\n      </Group>\r\n    </View>\r\n  );\r\n};\r\n\r\nProjectCardList.propTypes = {\r\n  events: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ProjectCardList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Panel, Avatar, RichCell, Div, Title, Spinner } from \"@vkontakte/vkui\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport { gql } from \"apollo-boost\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\n\r\nimport Icon24User from \"@vkontakte/icons/dist/24/user\";\r\n\r\nimport \"./UserProfile.css\";\r\nimport ProjectCardList from \"./EventCardList\";\r\n\r\nconst GET_PROJECTS = gql`\r\n  {\r\n    Events(id: \"123\") {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      location {\r\n        lat\r\n        lng\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst UserProfile = (props) => {\r\n  // Fetch data\r\n  const { loading, error, data } = useQuery(GET_PROJECTS);\r\n\r\n  const rating = [\r\n    { key: \"😊\", value: 101 },\r\n    { key: \"😴\", value: 11 },\r\n    { key: \"😍\", value: 35 },\r\n    { key: \"🤬\", value: 4 },\r\n  ];\r\n\r\n  const [fetchedUser, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    bridge.subscribe(({ detail: { type, data } }) => {\r\n      if (type === \"VKWebAppUpdateConfig\") {\r\n        const schemeAttribute = document.createAttribute(\"scheme\");\r\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\r\n        document.body.attributes.setNamedItem(schemeAttribute);\r\n      }\r\n    });\r\n    async function fetchData() {\r\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\r\n      setUser(user);\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const userName = \"Никита Долгошеин\";\r\n\r\n  // Display loading animation\r\n  if (loading)\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        <Spinner size=\"large\" style={{ marginTop: 20 }} />\r\n      </div>\r\n    );\r\n  if (error) return `Error: ${error.message}`;\r\n\r\n  return (\r\n    <Panel>\r\n      <RichCell\r\n        className=\"user-profile-header\"\r\n        disabled\r\n        multiline\r\n        before={\r\n          <Avatar\r\n            size={72}\r\n            src={fetchedUser !== null ? fetchedUser.photo_200 : null}\r\n          >\r\n            {fetchedUser === null ? <Icon24User /> : null}\r\n          </Avatar>\r\n        }\r\n        text={\r\n          <Div className=\"user-profile-satisfied\">\r\n            {rating.map((item, key) => (\r\n              <Div className=\"user-profile-satisfied-col\" key={key}>\r\n                <Title level=\"2\">{item.key}</Title>\r\n                <Title level=\"3\">{item.value}</Title>\r\n              </Div>\r\n            ))}\r\n          </Div>\r\n        }\r\n      >\r\n        <Title level=\"2\" weight=\"regular\">\r\n          {fetchedUser !== null\r\n            ? `${fetchedUser.first_name} ${fetchedUser.last_name}`\r\n            : userName}\r\n        </Title>\r\n      </RichCell>\r\n\r\n      <ProjectCardList events={data.Events} />\r\n    </Panel>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useState, useEffect } from \"react\";\nimport { Panel, Spinner } from \"@vkontakte/vkui\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport { gql } from \"apollo-boost\";\nimport { useQuery } from \"@apollo/react-hooks\";\n\nimport EventCardList from \"./EventCardList\";\n\nconst GET_EVENTS = gql`\n  {\n    Events(id: \"123\") {\n      id\n      name\n      description\n      price\n      location {\n        lat\n        lng\n        name\n      }\n    }\n  }\n`;\n\nconst FriendsEvents = (props) => {\n  // Fetch data\n  const { loading, error, data } = useQuery(GET_EVENTS);\n\n  const [friends, setFriends] = useState(null);\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    async function fetchData() {\n      const friends = await bridge.send(\"VKWebAppGetFriends\");\n      setFriends(friends);\n    }\n    fetchData();\n  }, []);\n\n  // Display loading animation\n  if (loading)\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          flexDirection: \"column\",\n        }}\n      >\n        <Spinner size=\"large\" style={{ marginTop: 20 }} />\n      </div>\n    );\n  if (error) return `Error: ${error.message}`;\n\n  return (\n    <Panel>\n      <EventCardList events={data.Events} />\n    </Panel>\n  );\n};\n\nexport default FriendsEvents;\n","import React, { useState, useEffect } from \"react\";\nimport { Panel, Spinner } from \"@vkontakte/vkui\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport { gql } from \"apollo-boost\";\nimport { useQuery } from \"@apollo/react-hooks\";\n\nimport { YMaps, Map } from 'react-yandex-maps';\n\nimport EventCardList from \"./EventCardList\";\n\nconst GET_EVENTS = gql`\n  {\n    Events(id: \"123\") {\n      id\n      name\n      description\n      price\n      location {\n        lat\n        lng\n        name\n      }\n    }\n  }\n`;\n\nconst LocationEvents = (props) => {\n  // Fetch data\n  const { loading, error, data } = useQuery(GET_EVENTS);\n\n  const [location, setLocation] = useState(null);\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    async function fetchData() {\n      const location = await bridge.send(\"VKWebAppGetGeodata\");\n      setLocation(location);\n    }\n    fetchData();\n  }, []);\n\n  // Display loading animation\n  if (loading)\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          flexDirection: \"column\",\n        }}\n      >\n        <Spinner size=\"large\" style={{ marginTop: 20 }} />\n      </div>\n    );\n  if (error) return `Error: ${error.message}`;\n\n  return (\n    <Panel>\n      <YMaps>\n        <Map defaultState={{ center: [56.85, 60.6], zoom: 10 }} width={'100%'} />\n      </YMaps>\n      <EventCardList events={data.Events} />\n    </Panel>\n  );\n};\n\nexport default LocationEvents;\n","import React, { useState } from \"react\";\r\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\nimport { Tabbar, TabbarItem, Epic } from \"@vkontakte/vkui\";\r\n\r\nimport Icon28BombOutline from \"@vkontakte/icons/dist/28/bomb_outline\";\r\nimport Icon28PlaceOutline from \"@vkontakte/icons/dist/28/place_outline\";\r\nimport Icon28GhostOutline from \"@vkontakte/icons/dist/28/ghost_outline\";\r\n\r\nimport UserProfile from \"./UserProfile\";\r\nimport FriendsEvents from \"./FriendsEvents\";\r\nimport LocationEvents from \"./LocationEvents\";\r\n\r\nconst TABS__ = [\r\n  {\r\n    id: \"events-my\",\r\n    text: \"Мои\",\r\n    icon: <Icon28BombOutline />\r\n  },\r\n  {\r\n    id: \"events-near\",\r\n    text: \"Рядом\",\r\n    icon: <Icon28PlaceOutline />\r\n  },\r\n  {\r\n    id: \"events-friends\",\r\n    text: \"Друзья\",\r\n    icon: <Icon28GhostOutline />\r\n  }\r\n]\r\n\r\nconst TabsRoot = () => {\r\n  const [activeStory, setActiveStory] = useState(\"events-my\");\r\n\r\n  const onStoryChange = (e) => {\r\n    setActiveStory(e.currentTarget.dataset.story);\r\n  };\r\n\r\n  const tabBarComponent = (\r\n    <Tabbar>\r\n      {TABS__.map((element, index) =>\r\n        <TabbarItem\r\n          onClick={onStoryChange}\r\n          selected={activeStory === element.id}\r\n          data-story={element.id}\r\n          text={element.text}\r\n          key={index}\r\n        >\r\n          {element.icon}\r\n        </TabbarItem>\r\n      )}\r\n    </Tabbar>\r\n  );\r\n\r\n  return (\r\n    <Epic\r\n      activeStory={activeStory}\r\n      tabbar={\r\n        tabBarComponent\r\n      }\r\n    >\r\n      <View id=\"events-my\">\r\n        <UserProfile />\r\n      </View>\r\n      <View id=\"events-near\">\r\n        <LocationEvents />\r\n      </View>\r\n      <View id=\"events-friends\">\r\n        <FriendsEvents />\r\n      </View>\r\n    </Epic>\r\n  );\r\n};\r\n\r\nexport default TabsRoot;\r\n","import React from \"react\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport { ApolloProvider } from \"@apollo/react-hooks\";\nimport ApolloClient from \"apollo-boost\";\n\nimport Meta from \"./panels/Meta\";\nimport TabsRoot from \"./panels/TabsRoot\";\n\nconst client = new ApolloClient({\n  uri: \"https://dvizh-api.herokuapp.com/\",\n});\n\nconst App = () => {\n  return (\n    <>\n      <Meta />\n\n      <ApolloProvider client={client}>\n        <TabsRoot />\n      </ApolloProvider>\n    </>\n  );\n};\n\nexport default App;\n","export default [\r\n  { name: \"main\", path: \"/main\" },\r\n  { name: \"project\", path: \"/project\" },\r\n  { name: \"user\", path: \"/user\" },\r\n];\r\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\nimport createRouter from \"./create-router\";\nimport { RouterProvider } from \"react-router5\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nconst router = createRouter();\n\nrouter.start(() => {\n  ReactDOM.render(\n    <RouterProvider router={router}>\n      <App router={router} />\n    </RouterProvider>,\n    document.getElementById(\"root\")\n  );\n});\n\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then((eruda) => {}); //runtime download\n}\n","import createRouter from \"router5\";\r\nimport loggerPlugin from \"router5-plugin-logger\";\r\nimport browserPlugin from \"router5-plugin-browser\";\r\nimport routes from \"./routes\";\r\n\r\nexport default function configureRouter() {\r\n  const router = createRouter(routes, {\r\n    defaultRoute: \"main\",\r\n  });\r\n\r\n  router.usePlugin(loggerPlugin);\r\n  router.usePlugin(\r\n    browserPlugin({\r\n      useHash: true,\r\n    })\r\n  );\r\n\r\n  return router;\r\n}\r\n"],"sourceRoot":""}