{"version":3,"sources":["panels/components/Meta.js","panels/Event/EventCard.js","panels/Event/FilterPanel.js","panels/Event/EventCardList.js","panels/UserProfile/UserHeader.js","panels/components/EventAdd.js","utils/Filter.js","auth/AuthProvider.js","panels/UserProfile/UserProfile.js","panels/LocationEvents/LocationEvents.js","panels/Event/Event.js","panels/components/EventCreate.js","panels/Main/TabsRoot.js","panels/App.js","routes.js","index.js","create-router.js"],"names":["Meta","name","content","ProjectCard","props","event","router","useRoute","size","onClick","navigate","id","console","log","before","description","style","display","location","asideContent","Math","round","price","bottomContent","e","stopPropagation","mode","marginLeft","FilterPanel","filterValues","onUpdate","min","max","step","value","onChange","key","top","defaultChecked","target","checked","ProjectCardList","events","filter","setFilter","useState","currentModal","setCurrentModal","innerFilter","setInnerFilter","useEffect","filteredEvents","element","filterModal","activeModal","onClose","header","level","dynamicContentHeight","data","modal","separator","map","EventCard","UserHeader","rating","user","className","disabled","multiline","src","photo_200","text","item","weight","first_name","last_name","EventAdd","position","left","bottom","zIndex","background","fill","Filter","date","args","this","AuthContext","createContext","AuthProvider","children","setUser","firebase","app","auth","onAuthStateChanged","Provider","UserProfile","firebaseUser","useContext","database","loading","setLoading","fetchedUser","fetchedEvents","setEvents","a","bridge","send","keys","userId","uuidv4","subscribe","detail","type","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","fetchData","ref","on","dataSnapshot","Object","entries","val","alignItems","justifyContent","flexDirection","height","EventCardList","LocationEvents","setLocation","lat","long","marginTop","padding","defaultState","center","zoom","width","geometry","options","preset","lng","Event","useRouteNode","route","params","propsEvent","setEvent","snapshot","window","history","back","backgroundImage","paddingBottom","borderRadius","photos","layout","color","stretched","margin","EventCreate","locationName","setLocationName","userLocation","setUserLocation","GEOCODER_URL","process","join","fetch","then","response","json","GeoObjectCollection","featureMember","GeoObject","submitEvent","push","get","controlSize","photo","defaultValue","TABS__","icon","TabsRoot","activeStory","setActiveStory","useRouter","currentTab","tab","tabName","onStoryChange","to","currentTarget","dataset","story","tabBarComponent","index","selected","data-story","tabbar","dotenv","config","App","path","createRouter","routes","defaultRoute","usePlugin","browserPlugin","useHash","configureRouter","initializeApp","apiKey","projectId","databaseURL","authDomain","fauth","storage","email","password","userUuid","createUserWithEmailAndPassword","catch","error","code","signInWithEmailAndPassword","logIn","start","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.695588f7.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Meta = () => {\r\n  return (\r\n      <meta\r\n        name=\"viewport\"\r\n        content=\"width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, viewport-fit=cover\"\r\n      ></meta>\r\n  );\r\n};\r\n\r\nexport default Meta;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Card, Cell, Button, Avatar } from \"@vkontakte/vkui\";\r\nimport Icon24User from \"@vkontakte/icons/dist/24/user\";\r\nimport Icon16Place from \"@vkontakte/icons/dist/16/place\";\r\nimport Icon24MoneyCircle from \"@vkontakte/icons/dist/24/money_circle\";\r\nimport { useRoute } from \"react-router5\";\r\n\r\nconst ProjectCard = (props) => {\r\n  \r\n  const { event } = props;\r\n  const { router } = useRoute();\r\n\r\n  return (\r\n    <Card size=\"l\" onClick={() => { router.navigate('event', { id: event.id, event }); console.log('card click') }}>\r\n      <Cell\r\n        before={\r\n          <Avatar size={32}>\r\n            <Icon24User />\r\n          </Avatar>\r\n        }\r\n        size=\"l\"\r\n        description={\r\n          <div style={{ display: \"flex\" }}>\r\n            <Icon16Place />\r\n            {event.location.name}\r\n          </div>\r\n        }\r\n        asideContent={\r\n          <div>\r\n            <Icon24MoneyCircle />\r\n            {Math.round(event.price)}\r\n          </div>\r\n        }\r\n        bottomContent={\r\n          <>\r\n            <div>{event.description}</div>\r\n            <div style={{ display: \"flex\" }}>\r\n              <Button size=\"m\" onClick={(e) => { e.stopPropagation(); console.log('click will participate') }}>Пойду</Button>\r\n              <Button size=\"m\" onClick={(e) => { e.stopPropagation(); console.log('hide') }} mode=\"secondary\" style={{ marginLeft: 8 }}>\r\n                Скрыть\r\n              </Button>\r\n            </div>\r\n          </>\r\n        }\r\n      >\r\n        {event.name}\r\n      </Cell>\r\n    </Card>\r\n  );\r\n};\r\n\r\nProjectCard.propTypes = {\r\n  event: PropTypes.any.isRequired,\r\n};\r\n\r\nexport default ProjectCard;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Switch,\r\n  Cell,\r\n  Slider,\r\n  FormLayout\r\n} from \"@vkontakte/vkui\";\r\n\r\nconst FilterPanel = (props) => {\r\n\r\n  const { filterValues, onUpdate } = props;  \r\n\r\n  // TODO : check rerendering here\r\n\r\n  return (\r\n    <FormLayout>\r\n      <Slider\r\n        min={500}\r\n        max={50 * 1000}\r\n        step={500}\r\n        value={filterValues['location'] === null ? 1 : filterValues['location']}\r\n        onChange={(value) => onUpdate({ key: 'location', value: value })}\r\n        top={`В радиусе ${filterValues['location']} м`}\r\n      />\r\n      <Cell asideContent={<Switch defaultChecked={filterValues['date']} onChange={(e) => onUpdate({ key: 'date', value: e.target.checked })} />}>Скоро</Cell>\r\n      <Cell asideContent={<Switch defaultChecked={filterValues['friends']} onChange={(e) => onUpdate({ key: 'friends', value: e.target.checked })} />}>Друзья</Cell>\r\n      <Cell></Cell><Cell></Cell>\r\n    </FormLayout>\r\n  )\r\n};\r\n\r\nFilterPanel.propTypes = {\r\n  onUpdate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default FilterPanel;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Group,\r\n  CardGrid,\r\n  CellButton,\r\n  View,\r\n  ModalRoot,\r\n  ModalPage,\r\n  ModalPageHeader,\r\n  Title,\r\n} from \"@vkontakte/vkui\";\r\n\r\nimport Icon24Sort from \"@vkontakte/icons/dist/24/sort\";\r\n\r\nimport EventCard from \"./EventCard\";\r\nimport FilterPanel from \"./FilterPanel\";\r\n\r\nconst MAIN_MODAL = \"main-modal\";\r\n\r\nconst ProjectCardList = (props) => {\r\n  const { events, filter, setFilter } = props;\r\n  const [currentModal, setCurrentModal] = useState(null);\r\n  const [innerFilter, setInnerFilter] = useState(filter);\r\n  \r\n  \r\n  useEffect(() => {\r\n    setInnerFilter(filter);\r\n  }, [filter]);\r\n  \r\n  \r\n  const updateFilter = (data) => {\r\n    const { key, value } = data;\r\n    setInnerFilter({\r\n      ...filter,\r\n      [key]: value\r\n    })\r\n  }\r\n  \r\n  let filteredEvents = events.filter((element) => {\r\n    return element;\r\n  });\r\n  \r\n  const filterModal = (\r\n    <ModalRoot\r\n    activeModal={currentModal}\r\n    onClose={() => {\r\n      setCurrentModal(null);\r\n      setFilter(innerFilter);\r\n      filteredEvents = events.filter((element) => {\r\n        return element;\r\n      });\r\n    }}\r\n    >\r\n      <ModalPage\r\n        id={MAIN_MODAL}\r\n        header={<ModalPageHeader><Title level=\"2\">Фильтры</Title></ModalPageHeader>}\r\n        dynamicContentHeight\r\n        >\r\n        <FilterPanel filterValues={innerFilter} onUpdate={updateFilter} />\r\n      </ModalPage>\r\n    </ModalRoot>\r\n  );\r\n  \r\n  return (\r\n    <View modal={filterModal}>\r\n      <Group\r\n        separator=\"hide\"\r\n        header={\r\n          <CellButton\r\n            before={<Icon24Sort />}\r\n            onClick={() => {\r\n              setCurrentModal(MAIN_MODAL);\r\n            }}\r\n          >\r\n            Фильтровать\r\n          </CellButton>\r\n        }\r\n      >\r\n        <CardGrid>\r\n          {filteredEvents.map((event, key) => (\r\n            <EventCard key={key} event={event} />\r\n          ))}\r\n        </CardGrid>\r\n      </Group>\r\n    </View>\r\n  );\r\n};\r\n\r\nProjectCardList.propTypes = {\r\n  events: PropTypes.array.isRequired,\r\n  filter: PropTypes.object.isRequired,\r\n  setFilter: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ProjectCardList;\r\n","import React from \"react\";\nimport { Avatar, RichCell, Div, Title } from \"@vkontakte/vkui\";\nimport PropTypes from \"prop-types\";\n\nimport Icon24User from \"@vkontakte/icons/dist/24/user\";\n\nimport \"./UserProfile.css\";\n\nconst UserHeader = (props) => {\n\n  const { rating, user } = props;\n  const userName = \"Никита Долгошеин\";\n\n  console.log(\"User : \", user);\n\n  return (\n    <RichCell\n      className=\"user-profile-header\"\n      disabled\n      multiline\n      before={\n        <Avatar\n          size={72}\n          src={user !== null ? user.photo_200 : null}\n        >\n          {user === null ? <Icon24User /> : null}\n        </Avatar>\n      }\n      text={\n        <Div className=\"user-profile-satisfied\">\n          {rating.map((item, key) => (\n            <Div className=\"user-profile-satisfied-col\" key={key}>\n              <Title level=\"2\">{item.key}</Title>\n              <Title level=\"3\">{item.value}</Title>\n            </Div>\n          ))}\n        </Div>\n      }\n    >\n      <Title level=\"2\" weight=\"regular\">\n        {user !== null\n          ? `${user.first_name} ${user.last_name}`\n          : userName}\n      </Title>\n    </RichCell>\n  );\n};\n\nUserHeader.propTypes = {\n  rating: PropTypes.array,\n  user: PropTypes.object\n}\n\nexport default UserHeader;\n","import React from \"react\";\nimport Icon28AddOutline from \"@vkontakte/icons/dist/28/add_outline\";\nimport { Avatar } from \"@vkontakte/vkui\";\nimport { useRoute } from \"react-router5\";\n\n\nconst EventAdd = () => {\n\n  const { router } = useRoute();\n\n  return (\n    <div\n      style={{ position: \"absolute\", left: 24, bottom: 64, zIndex: 100 }}\n      onClick={() => router.navigate('create') }\n    >\n      <Avatar style={{ background: \"var(--button_primary_background)\" }}>\n        <Icon28AddOutline fill={\"var(--button_primary_foreground)\"} />\n      </Avatar>\n    </div>\n  );\n\n};\n\nexport default EventAdd;\n","class Filter {\n    constructor(location, date, args) {\n        this.location = location;\n        this.date = date;\n    }\n    update(element) {\n        this[element.key] = element.value;\n    }\n}\n\nexport default Filter;","import React, { createContext, useState, useEffect } from \"react\";\nimport firebase from \"firebase\";\n\nexport const AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n  \n  const [user, setUser] = useState();\n\n  useEffect(() => {\n    const app = firebase.app();    \n    app.auth().onAuthStateChanged((user) => {\n      setUser(user);\n    })\n  }, []);\n\n  return (\n    <AuthContext.Provider value={user}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport default AuthProvider;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Panel, PanelSpinner } from \"@vkontakte/vkui\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport firebase from \"firebase/app\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport \"./UserProfile.css\";\r\nimport EventCardList from \"../Event/EventCardList\";\r\nimport UserHeader from \"./UserHeader\";\r\nimport EventAdd from \"../components/EventAdd\";\r\nimport Filter from \"../../utils/Filter\";\r\nimport { AuthContext } from \"../../auth/AuthProvider\";\r\n\r\nconst UserProfile = (props) => {\r\n\r\n  const firebaseUser = useContext(AuthContext);\r\n\r\n  console.log(firebaseUser);\r\n\r\n  // TODO : here we can render user related data first\r\n\r\n  // Fetch data\r\n  const database = firebase.database();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const rating = [\r\n    { key: \"😊\", value: 101 },\r\n    { key: \"😴\", value: 11 },\r\n    { key: \"😍\", value: 35 },\r\n    { key: \"🤬\", value: 4 },\r\n  ];\r\n\r\n  const [fetchedUser, setUser] = useState(null);\r\n  const [fetchedEvents, setEvents] = useState([]);\r\n  const [filter, setFilter] = useState(new Filter(0, null));\r\n\r\n\r\n  \r\n  useEffect(() => {\r\n    bridge.subscribe(({ detail: { type, data } }) => {\r\n      if (type === \"VKWebAppUpdateConfig\") {\r\n        const schemeAttribute = document.createAttribute(\"scheme\");\r\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\r\n        document.body.attributes.setNamedItem(schemeAttribute);\r\n      }\r\n    });\r\n    async function fetchData() {\r\n      // User data\r\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\r\n      const storage = await bridge.send(\"VKWebAppStorageGet\", {\r\n        keys: [\r\n          \"userId\"\r\n        ]\r\n      });\r\n      // For new users generate and\r\n      // save unique userId here\r\n      if (!storage.keys[0].value) {\r\n        const userId = uuidv4();\r\n        await bridge.send(\"VKWebAppStorageSet\", { key: \"userId\", value: userId });\r\n      }\r\n      setUser(user);\r\n    }\r\n    fetchData();\r\n  }, [database]);\r\n\r\n  useEffect(() => {\r\n    function fetchEvents() {\r\n      // Events data\r\n      database.ref(\"events\").on(\"value\", dataSnapshot => {\r\n        const events = Object.entries(dataSnapshot.val()).map(e => {\r\n          return { id: e[0], ...e[1] };\r\n        });\r\n        setEvents(events);\r\n        setLoading(false);\r\n      });\r\n    }\r\n    fetchEvents();\r\n  }, [database]);\r\n\r\n  // Display loading animation\r\n  if (loading)\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          flexDirection: \"column\",\r\n          height: \"100%\"\r\n        }}\r\n      >\r\n        <PanelSpinner size=\"large\" />\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <Panel>\r\n      <UserHeader user={fetchedUser} rating={rating} />\r\n      <EventCardList events={fetchedEvents} filter={filter} setFilter={setFilter} />\r\n      <EventAdd />\r\n    </Panel>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useState, useEffect } from \"react\";\nimport { Panel, Spinner, Div } from \"@vkontakte/vkui\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport firebase from \"firebase/app\";\n\nimport { YMaps, Map, Placemark, Circle } from 'react-yandex-maps';\n\nimport EventCardList from \"../Event/EventCardList\";\nimport Filter from \"../../utils/Filter\";\n\nconst LocationEvents = (props) => {\n  \n  // Fetch data\n  const database = firebase.database();\n  const [loading, setLoading] = useState(true);\n\n  const [fetchedEvents, setEvents] = useState([]);\n  const [location, setLocation] = useState([56.85, 60.6]);\n  const [filter, setFilter] = useState(new Filter(0, null));\n\n  \n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    async function fetchData() {\n      const location = await bridge.send(\"VKWebAppGetGeodata\");\n      setLocation([location.lat, location.long]);\n    }\n    fetchData();\n  }, []);\n  \n  \n  useEffect(() => {\n    function fetchEvents() {\n      // Events data\n      database.ref(\"events\").on(\"value\", dataSnapshot => {\n        const events = Object.entries(dataSnapshot.val()).map(e => {\n          return { id: e[0],  ...e[1]};\n        });\n        setEvents(events);\n        setLoading(false);\n      });\n    }\n    fetchEvents();\n  }, [database]);\n  \n  // Fetched here\n  fetchedEvents.map(event => {\n    if (filter['location'])\n      console.log('LOCATION', filter['location']);\n    return event;\n  });\n\n  // Display loading animation\n  if (loading)\n  return (\n    <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          flexDirection: \"column\",\n        }}\n      >\n        <Spinner size=\"large\" style={{ marginTop: 20 }} />\n      </div>\n    );\n\n  return (\n    <Panel>\n      <Div style={{ height: \"240px\", padding: 0 }}>\n        <YMaps >\n          <Map defaultState={{ center: location, zoom: 10 }} width={'100%'}>\n            <Placemark geometry={location} options={{preset: \"islands#redCircleDotIcon\"}} />\n            {\n              fetchedEvents.map((event, id) => {\n                const geometry = [event.location.lng, event.location.lat];\n                return (<Placemark key={id} geometry={geometry} />)\n              })\n            }\n            <Circle geometry={[location, filter['location'] /*metrs*/]} />\n          </Map>\n        </YMaps>\n      </Div>\n      <EventCardList events={fetchedEvents} filter={filter} setFilter={setFilter} />\n    </Panel>\n  );\n};\n\nexport default LocationEvents;\n","import React, { useEffect, useState } from \"react\";\r\nimport { useRouteNode } from \"react-router5\";\r\nimport { PanelHeaderButton, Panel, PanelHeader, Spinner, Div, Cell, Button, Group, Header, UsersStack } from \"@vkontakte/vkui\";\r\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\r\nimport Icon24MoneyCircle from \"@vkontakte/icons/dist/24/money_circle\";\r\nimport Icon28QrCodeOutline from '@vkontakte/icons/dist/28/qr_code_outline';\r\nimport Icon56CheckCircleOutline from '@vkontakte/icons/dist/56/check_circle_outline';\r\nimport { YMaps, Map, Placemark } from \"react-yandex-maps\";\r\nimport firebase from \"firebase\";\r\nimport \"@react-firebase/database\";\r\n\r\n\r\nconst Event = (props) => {\r\n  const { route } = useRouteNode('event');\r\n\r\n  const { id, event: propsEvent } = route.params;\r\n  const [event, setEvent] = useState(propsEvent);\r\n\r\n  const database = firebase.database();\r\n\r\n  useEffect(() => {\r\n    if (!propsEvent) {\r\n      database.ref(`events/${id}`).on(\"value\", (snapshot) => {\r\n        setEvent(snapshot.val());\r\n      });\r\n    }\r\n  }, [database, id, propsEvent]);\r\n\r\n  if (!event) {\r\n    return <Spinner size=\"large\" />\r\n  }\r\n\r\n  return (\r\n    <Panel id={id}>\r\n      <PanelHeader\r\n        left={\r\n          <PanelHeaderButton onClick={() => { window.history.back(); }}>\r\n            {<Icon24Back />}\r\n          </PanelHeaderButton>\r\n        }\r\n      >\r\n        <h5>{event.name}</h5>\r\n      </PanelHeader>\r\n      <Div style={{ height: \"240px\", padding: 0 }}>\r\n        <YMaps>\r\n          <Map defaultState={{ center: [event.location.lng, event.location.lat], zoom: 10 }} width={'100%'}>\r\n            <Placemark geometry={[event.location.lng, event.location.lat]} options={{ preset: \"islands#geolocationIcon\" }} />\r\n          </Map>\r\n        </YMaps>\r\n      </Div>\r\n\r\n      <Group header={<Header mode=\"secondary\">Описание</Header>}>\r\n        <Cell multiline size=\"l\">\r\n          {event.description}\r\n        </Cell>\r\n      </Group>\r\n\r\n      <Group header={<Header mode=\"secondary\">Информация</Header>}>\r\n        <Div>\r\n          <div style={{\r\n            backgroundImage: \"url(https://api.parkseason.ru/images/styles/1200_500/d2/af/30e62fddc14c05988b44e7c02788e18759dce9c49e9cc281915310.jpg)\",\r\n            height: \"200px\",\r\n            display: \"flex\",\r\n            alignItems: \"flex-end\",\r\n            justifyContent: \"center\",\r\n            paddingBottom: \"6px\",\r\n            borderRadius: 12\r\n          }}>\r\n            <UsersStack\r\n              photos={[\r\n                \"https://sun9-12.userapi.com/c851016/v851016587/119cab/ai0uN_RKSXc.jpg?ava=1\",\r\n                \"https://sun9-12.userapi.com/c851016/v851016587/119cab/ai0uN_RKSXc.jpg?ava=1\",\r\n                \"https://sun9-12.userapi.com/c851016/v851016587/119cab/ai0uN_RKSXc.jpg?ava=1\"\r\n              ]}\r\n              size=\"m\"\r\n              layout=\"vertical\"\r\n              style={{ color: \"#fff\" }}\r\n            >1337 участников</UsersStack>\r\n          </div>\r\n        </Div>\r\n        <Cell asideContent={Math.round(event.price)}>\r\n          <Icon24MoneyCircle fill={\"#3f8ae0\"} />\r\n        </Cell>\r\n        <Div style={{ display: \"flex\" }}>\r\n          <Icon56CheckCircleOutline />\r\n          <Button stretched style={{ margin: \"10px\" }}>Пойду</Button>\r\n          \r\n        </Div>\r\n        <Icon28QrCodeOutline />\r\n      </Group>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nexport default Event;\r\n","import React, { useState, useEffect, useContext } from \"react\";\nimport {\n  Panel,\n  PanelHeader,\n  PanelHeaderButton,\n  Div,\n  Input,\n  Button,\n  FormLayout,\n  FormLayoutGroup,\n  Textarea,\n  File\n} from \"@vkontakte/vkui\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport Icon24Camera from \"@vkontakte/icons/dist/24/camera\";\nimport { YMaps, Placemark, Map } from \"react-yandex-maps\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport firebase from \"firebase/app\";\nimport { AuthContext } from \"../../auth/AuthProvider\";\n\nconst EventCreate = () => {\n\n  const firebaseUser = useContext(AuthContext);\n\n  console.log(firebaseUser);\n\n  // TODO : assign user id to event\n\n\n  const database = firebase.database();\n\n  const [location, setLocation] = useState([56.83890, 60.605192]);\n  const [locationName, setLocationName] = useState('Место');\n  const [userLocation, setUserLocation] = useState([56.83890, 60.605192]);\n  const [event, setEvent] = useState({\n    name: \"Event name\",\n    description: \"\",\n    price: 0,\n    location: {\n      name: locationName,\n      lng: location[0],\n      lat: location[1]\n    }\n  });\n\n  useEffect(() => {\n    async function fetchData() {\n      const location = await bridge.send(\"VKWebAppGetGeodata\");\n      setUserLocation([location.lat, location.long]);\n    }\n    fetchData();\n  }, []);\n\n\n  let GEOCODER_URL =\n    `https://geocode-maps.yandex.ru/1.x/?apikey=${\n    process.env.REACT_APP_YANDEX_KEY\n    }&geocode=${\n    [location[1], location[0]].join(',')\n    }&format=json`;\n\n  fetch(GEOCODER_URL).then(response => response.json()).then(data => {\n    setLocationName(data.response.GeoObjectCollection.featureMember[0].GeoObject.name);\n  });\n\n  const submitEvent = async () => {\n    database.ref(`events`).push(\n      {\n        ...event, location: {\n          name: locationName,\n          lng: location[0],\n          lat: location[1]\n        }\n      }\n    );\n  }\n\n  return (\n    <Panel>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={() => { window.history.back(); }}>\n            {<Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        Опишите событие\n      </PanelHeader>\n\n\n      <FormLayout>\n        <FormLayoutGroup top={locationName}>\n          <Div style={{ height: \"150px\" }}>\n            <YMaps>\n              <Map\n                defaultState={{ center: location, zoom: 10 }}\n                height={'150px'} width={'100%'}\n                onClick={(e) => { setLocation(e.get('coords')) }}\n              >\n                <Placemark geometry={userLocation} options={{ preset: \"islands#redCircleDotIcon\" }} />\n                <Placemark geometry={location} />\n              </Map>\n            </YMaps>\n          </Div>\n        </FormLayoutGroup>\n\n\n        <Input top=\"Название\" onChange={e => setEvent({ ...event, name: e.target.value })} />\n        <File top=\"Загрузите фото\" before={<Icon24Camera />} controlSize=\"l\" onChange={e => setEvent({ ...event, photo: e.target.value })} >\n          Открыть галерею\n        </File>\n        <Input top=\"Цена\" type=\"number\" defaultValue={0} onChange={e => setEvent({ ...event, price: e.target.value })} />\n        <Textarea top=\"Описание\" defaultValue={0} onChange={e => setEvent({ ...event, description: e.target.value })} />\n\n        <Button size=\"xl\"\n          onClick={() => {\n            submitEvent().then(() => {\n              window.history.back();\n            });\n          }}\n        >\n          Создать\n        </Button>\n\n      </FormLayout>\n    </Panel>\n  );\n\n};\n\nexport default EventCreate;\n","import React, { useState, useEffect } from \"react\";\r\nimport { useRouter, useRoute } from \"react-router5\";\r\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\nimport { Tabbar, TabbarItem, Epic } from \"@vkontakte/vkui\";\r\n\r\nimport Icon28BombOutline from \"@vkontakte/icons/dist/28/bomb_outline\";\r\nimport Icon28PlaceOutline from \"@vkontakte/icons/dist/28/place_outline\";\r\n\r\nimport UserProfile from \"../UserProfile/UserProfile\";\r\nimport LocationEvents from \"../LocationEvents/LocationEvents\";\r\nimport Event from \"../Event/Event\";\r\nimport EventCreate from \"../components/EventCreate\";\r\n\r\nconst TABS__ = [\r\n  {\r\n    id: \"me\",\r\n    text: \"Мои\",\r\n    icon: <Icon28BombOutline />\r\n  },\r\n  {\r\n    id: \"location\",\r\n    text: \"Рядом\",\r\n    icon: <Icon28PlaceOutline />\r\n  }\r\n]\r\n\r\nconst TabsRoot = () => {\r\n  const { route } = useRoute();\r\n  const [activeStory, setActiveStory] = useState(null);\r\n  const router = useRouter();\r\n  const currentTab = TABS__.filter(tab => tab.id === route.name)[0];\r\n  const tabName = currentTab ? currentTab.id : TABS__[0].id;\r\n\r\n  useEffect(() => {\r\n    setActiveStory(tabName);\r\n  }, [tabName]);\r\n\r\n  if (route.name === \"event\") {\r\n    return (\r\n      <Event />\r\n    );\r\n  } else if (route.name === \"create\") {\r\n    return (\r\n      <EventCreate />\r\n    );\r\n  }\r\n\r\n\r\n  const onStoryChange = (e) => {\r\n    const to = e.currentTarget.dataset.story;\r\n    router.navigate(to);\r\n    setActiveStory(to);\r\n  };\r\n\r\n  const tabBarComponent = (\r\n    <Tabbar>\r\n      {TABS__.map((element, index) =>\r\n        <TabbarItem\r\n          onClick={onStoryChange}\r\n          selected={activeStory === element.id}\r\n          data-story={element.id}\r\n          text={element.text}\r\n          key={index}\r\n        >\r\n          {element.icon}\r\n        </TabbarItem>\r\n      )}\r\n    </Tabbar>\r\n  );\r\n\r\n  return (\r\n    <Epic\r\n      activeStory={activeStory}\r\n      tabbar={\r\n        tabBarComponent\r\n      }\r\n    >\r\n      <View id=\"me\" key=\"0\">\r\n        <UserProfile />\r\n      </View>\r\n      <View id=\"location\" key=\"1\">\r\n        <LocationEvents />\r\n      </View>\r\n    </Epic>\r\n  );\r\n};\r\n\r\nexport default TabsRoot;\r\n","import React from \"react\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport dotenv from \"dotenv\";\n\nimport Meta from \"./components/Meta\";\nimport TabsRoot from \"./Main/TabsRoot\";\n\ndotenv.config();\n\nconst App = () => {\n\n  return (\n    <>\n      <Meta />\n\n      <TabsRoot />\n    </>\n  );\n};\n\nexport default App;\n","export default [\r\n  { name: \"main\", path: \"/\" },\r\n  { name: \"me\", path: \"/me\" },\r\n  { name: \"friends\", path: \"/friends\" },\r\n  { name: \"location\", path: \"/location\" },\r\n  { name: \"event\", path: \"/event/:id\" },\r\n  { name: \"user\", path: \"/user/:id\" },\r\n  { name: \"create\", path: \"/create\" }\r\n];\r\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { RouterProvider } from \"react-router5\";\n\nimport bridge from \"@vkontakte/vk-bridge\";\n\nimport firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport \"firebase/auth\";\n\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport App from \"./panels/App\";\nimport configureRouter from \"./create-router\";\nimport AuthProvider from \"./auth/AuthProvider\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nconst router = configureRouter();\n\n// Firebase Config\nconst config = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN\n};\nfirebase.initializeApp(config);\n\n// TODO: login or signup user here.\n\nlet fauth = firebase.auth();\nconst logIn = async () => {\n  const storage = await bridge.send(\"VKWebAppStorageGet\", {\n    keys: [\n      \"userUuid\"\n    ]\n  });\n  const user = await bridge.send(\"VKWebAppGetUserInfo\");\n\n  let email = user.id;\n  let password = storage.keys[0].value;\n\n  console.log(\"DATA : \", email, password);\n\n  // For new users generate and\n  // save unique userId here\n  if (!password) {\n    const userUuid = uuidv4();\n    password = userUuid;\n    await bridge.send(\"VKWebAppStorageSet\", { key: \"userUuid\", value: userUuid });\n  }\n\n  fauth.createUserWithEmailAndPassword(email, password).then((e) => {\n    console.log(\"create user : OK\");\n  }).catch((e) => {\n    console.error(e.code);\n  }).then(() => {\n    fauth.signInWithEmailAndPassword(email, password).then((e) => {\n      console.log(\"login : OK\");\n    }).catch((e) => {\n      console.log(e.code);\n    })\n  });\n}\n\nlogIn();\n\n\n\nrouter.start(() => {\n  ReactDOM.render(\n    <AuthProvider>\n      <RouterProvider router={router}>\n        <App router={router} />\n      </RouterProvider>\n    </AuthProvider>\n    ,\n    document.getElementById(\"root\")\n  );\n});\n\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then((eruda) => { }); //runtime download\n}\n","import createRouter from \"router5\";\r\nimport browserPlugin from \"router5-plugin-browser\";\r\nimport routes from \"./routes\";\r\n\r\nexport default function configureRouter() {\r\n  const router = createRouter(routes, {\r\n    defaultRoute: \"me\",\r\n  });\r\n\r\n  router.usePlugin(\r\n    browserPlugin({\r\n      useHash: true,\r\n    })\r\n  );\r\n\r\n  return router;\r\n}\r\n"],"sourceRoot":""}