(this.webpackJsonpdvizh=this.webpackJsonpdvizh||[]).push([[0],{190:function(e,t,a){e.exports=a(292)},279:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t);a(191),a(217),a(219),a(220),a(222),a(223),a(224),a(225),a(226),a(227),a(228),a(229),a(231),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(240),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259);var n=a(0),r=a.n(n),l=a(111),c=a.n(l),i=a(37),s=a.n(i),m=(a(104),a(27)),o=a(61),u=function(){return r.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, viewport-fit=cover"})},d=a(46),E=a(62),p=a.n(E),f=a(8),v=a(122),b=a.n(v),h=a(123),y=a.n(h),j=a(124),g=a.n(j),k=a(125),O=a.n(k),C=a(58),x=a.n(C),w=a(126),z=a.n(w),I=a(127),A=a.n(I),N=function(e){var t=e.project;return r.a.createElement(f.c,{size:"l"},r.a.createElement(f.e,{before:r.a.createElement(f.a,{size:32},r.a.createElement(x.a,null)),size:"l",description:r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(z.a,null),t.location.name),asideContent:r.a.createElement("div",null,r.a.createElement(A.a,null),Math.round(t.price)),bottomContent:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,t.description),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(f.b,{size:"m"},"\u041f\u043e\u0439\u0434\u0443"),r.a.createElement(f.b,{size:"m",mode:"secondary",style:{marginLeft:8}},"\u0421\u043a\u0440\u044b\u0442\u044c")))},t.name))},S=function(e){var t=e.events,a=Object(n.useState)(null),l=Object(d.a)(a,2),c=l[0],i=l[1],s=r.a.createElement(f.l,{activeModal:c,onClose:function(){i(null)}},r.a.createElement(f.j,{id:"main-modal",header:r.a.createElement(f.k,null,r.a.createElement(f.s,{level:"2"},"\u0424\u0438\u043b\u044c\u0442\u0440\u044b")),dynamicContentHeight:!0},r.a.createElement(f.e,{asideContent:r.a.createElement(f.p,null)},"\u0420\u044f\u0434\u043e\u043c"),r.a.createElement(f.e,{asideContent:r.a.createElement(f.p,null)},"\u0421\u043a\u043e\u0440\u043e"),r.a.createElement(f.e,{asideContent:r.a.createElement(f.p,null)},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043a \u0437\u0430\u043f\u0438\u0441\u044f\u043c"),r.a.createElement(f.e,null),r.a.createElement(f.e,null)));return r.a.createElement(f.t,{modal:s},r.a.createElement(f.i,{separator:"hide",header:r.a.createElement(f.f,{before:r.a.createElement(O.a,null),onClick:function(){i("main-modal")}},"\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c")},r.a.createElement(f.d,null,t.map((function(e,t){return r.a.createElement(N,{key:t,project:e})})))))},_=a(78),K=a.n(_),V=a(128),W=a(129),F=a(76);a(279);function H(){var e=Object(W.a)(['\n  {\n    Events(id: "123") {\n      id\n      name\n      description\n      price\n      location {\n        lat\n        lng\n        name\n      }\n    }\n  }\n']);return H=function(){return e},e}var J=Object(o.b)(H()),M=function(e){var t=Object(F.a)(J),a=t.loading,l=t.error,c=t.data,i=Object(n.useState)(null),m=Object(d.a)(i,2),o=m[0],u=m[1];Object(n.useEffect)((function(){function e(){return(e=Object(V.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var r=document.createAttribute("scheme");r.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),function(){e.apply(this,arguments)}()}),[]);return a?r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(f.o,{size:"large",style:{marginTop:20}})):l?"Error: ".concat(l.message):r.a.createElement(f.m,null,r.a.createElement(f.n,{className:"user-profile-header",disabled:!0,multiline:!0,before:r.a.createElement(f.a,{size:72,src:null!==o?o.photo_200:null},null===o?r.a.createElement(x.a,null):null),text:r.a.createElement(f.g,{className:"user-profile-satisfied"},[{key:"\ud83d\ude0a",value:101},{key:"\ud83d\ude34",value:11},{key:"\ud83d\ude0d",value:35},{key:"\ud83e\udd2c",value:4}].map((function(e,t){return r.a.createElement(f.g,{className:"user-profile-satisfied-col",key:t},r.a.createElement(f.s,{level:"2"},e.key),r.a.createElement(f.s,{level:"3"},e.value))})))},r.a.createElement(f.s,{level:"2",weight:"regular"},null!==o?"".concat(o.first_name," ").concat(o.last_name):"\u041d\u0438\u043a\u0438\u0442\u0430 \u0414\u043e\u043b\u0433\u043e\u0448\u0435\u0438\u043d")),r.a.createElement(S,{events:c.Events}))},P=function(){var e=Object(n.useState)("projects-my"),t=Object(d.a)(e,2),a=t[0],l=t[1],c=function(e){l(e.currentTarget.dataset.story)};return r.a.createElement(f.h,{activeStory:a,tabbar:r.a.createElement(f.q,null,r.a.createElement(f.r,{onClick:c,selected:"projects-my"===a,"data-story":"projects-my",text:"\u041c\u043e\u0438"},r.a.createElement(b.a,null)),r.a.createElement(f.r,{onClick:c,selected:"projects-near"===a,"data-story":"projects-near",text:"\u0420\u044f\u0434\u043e\u043c"},r.a.createElement(y.a,null)),r.a.createElement(f.r,{onClick:c,selected:"projects-friends"===a,"data-story":"projects-friends",text:"\u0414\u0440\u0443\u0437\u044c\u044f"},r.a.createElement(g.a,null)))},r.a.createElement(p.a,{id:"projects-my"},r.a.createElement(M,null)),r.a.createElement(p.a,{id:"projects-near"},r.a.createElement(S,{events:[]})),r.a.createElement(p.a,{id:"projects-friends"},r.a.createElement(S,{events:[]})))},T=new o.a({uri:"https://dvizh-api.herokuapp.com/"}),U=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(m.a,{client:T},r.a.createElement(P,null)))},q=a(52),B=a(133),D=a(134),G=[{name:"main",path:"/main"},{name:"project",path:"/project"},{name:"user",path:"/user"}];var L=a(135);s.a.send("VKWebAppInit");var R=function(){var e=Object(q.b)(G,{defaultRoute:"main"});return e.usePlugin(B.a),e.usePlugin(Object(D.a)({useHash:!0})),e}();R.start((function(){c.a.render(r.a.createElement(L.a,{router:R},r.a.createElement(U,{router:R})),document.getElementById("root"))}))}},[[190,1,2]]]);
//# sourceMappingURL=main.c4bab380.chunk.js.map