(this.webpackJsonpdvizh=this.webpackJsonpdvizh||[]).push([[0],{195:function(e,t,n){e.exports=n(297)},284:function(e,t,n){},297:function(e,t,n){"use strict";n.r(t);n(196),n(222),n(224),n(225),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264);var a=n(0),r=n.n(a),c=n(116),l=n.n(c),i=n(29),u=n.n(i),o=(n(109),n(27)),s=n(44),m=function(){return r.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, viewport-fit=cover"})},d=n(34),f=n(67),p=n.n(f),E=n(7),v=n(127),b=n.n(v),h=n(128),y=n.n(h),g=n(129),j=n.n(g),O=n(39),k=n.n(O),x=n(50),w=n(51),C=n(48),z=n(63),A=n.n(z),I=(n(284),n(64)),V=n(82),S=n(130),K=n.n(S),W=n(131),N=n.n(W),U=n(132),_=n.n(U),G=function(e){var t=e.project;return r.a.createElement(E.c,{size:"l"},r.a.createElement(E.e,{before:r.a.createElement(E.a,{size:32},r.a.createElement(A.a,null)),size:"l",description:r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(N.a,null),t.location.name),asideContent:r.a.createElement("div",null,r.a.createElement(_.a,null),Math.round(t.price)),bottomContent:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,t.description),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(E.b,{size:"m"},"\u041f\u043e\u0439\u0434\u0443"),r.a.createElement(E.b,{size:"m",mode:"secondary",style:{marginLeft:8}},"\u0421\u043a\u0440\u044b\u0442\u044c")))},t.name))},T=n(133),D=n(134),F=function(){function e(t,n,a){Object(T.a)(this,e),this.location=t,this.date=n}return Object(D.a)(e,[{key:"update",value:function(e){this[e.key]=e.value}}]),e}(),H=function(e){var t=e.filterValues,n=e.onUpdate;return r.a.createElement(E.g,null,r.a.createElement(E.e,{asideContent:r.a.createElement(E.p,{defaultChecked:t.location,onChange:function(e){return n({key:"location",value:e.target.checked})}})},"\u0420\u044f\u0434\u043e\u043c"),r.a.createElement(E.e,{asideContent:r.a.createElement(E.p,{defaultChecked:t.date,onChange:function(e){return n({key:"date",value:e.target.checked})}})},"\u0421\u043a\u043e\u0440\u043e"),r.a.createElement(E.e,null),r.a.createElement(E.e,null))},J=function(e){var t=e.events,n=Object(a.useState)(null),c=Object(d.a)(n,2),l=c[0],i=c[1],u=Object(a.useState)(new F(null,null)),o=Object(d.a)(u,2),s=o[0],m=o[1],f=r.a.createElement(E.l,{activeModal:l,onClose:function(){i(null)}},r.a.createElement(E.j,{id:"main-modal",header:r.a.createElement(E.k,null,r.a.createElement(E.s,{level:"2"},"\u0424\u0438\u043b\u044c\u0442\u0440\u044b")),dynamicContentHeight:!0},r.a.createElement(H,{filterValues:s,onUpdate:function(e){var t=e.key,n=e.value;m(Object(V.a)(Object(V.a)({},s),{},Object(I.a)({},t,n)))}})));t.filter((function(e){return!0}));return r.a.createElement(E.t,{modal:f},r.a.createElement(E.i,{separator:"hide",header:r.a.createElement(E.f,{before:r.a.createElement(K.a,null),onClick:function(){i("main-modal")}},"\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c")},r.a.createElement(E.d,null,t.map((function(e,t){return r.a.createElement(G,{key:t,project:e})})))))};function M(){var e=Object(w.a)(['\n  {\n    Events(id: "123") {\n      id\n      name\n      description\n      price\n      location {\n        lat\n        lng\n        name\n      }\n    }\n  }\n']);return M=function(){return e},e}var P=Object(s.b)(M()),q=function(e){var t=Object(C.a)(P),n=t.loading,c=t.error,l=t.data,i=Object(a.useState)(null),o=Object(d.a)(i,2),s=o[0],m=o[1];Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"===n){var r=document.createAttribute("scheme");r.value=a.scheme?a.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),function(){e.apply(this,arguments)}()}),[]);return n?r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(E.o,{size:"large",style:{marginTop:20}})):c?"Error: ".concat(c.message):r.a.createElement(E.m,null,r.a.createElement(E.n,{className:"user-profile-header",disabled:!0,multiline:!0,before:r.a.createElement(E.a,{size:72,src:null!==s?s.photo_200:null},null===s?r.a.createElement(A.a,null):null),text:r.a.createElement(E.g,{className:"user-profile-satisfied"},[{key:"\ud83d\ude0a",value:101},{key:"\ud83d\ude34",value:11},{key:"\ud83d\ude0d",value:35},{key:"\ud83e\udd2c",value:4}].map((function(e,t){return r.a.createElement(E.g,{className:"user-profile-satisfied-col",key:t},r.a.createElement(E.s,{level:"2"},e.key),r.a.createElement(E.s,{level:"3"},e.value))})))},r.a.createElement(E.s,{level:"2",weight:"regular"},null!==s?"".concat(s.first_name," ").concat(s.last_name):"\u041d\u0438\u043a\u0438\u0442\u0430 \u0414\u043e\u043b\u0433\u043e\u0448\u0435\u0438\u043d")),r.a.createElement(J,{events:l.Events}))};function B(){var e=Object(w.a)(['\n  {\n    Events(id: "123") {\n      id\n      name\n      description\n      price\n      location {\n        lat\n        lng\n        name\n      }\n    }\n  }\n']);return B=function(){return e},e}var L=Object(s.b)(B()),R=function(e){var t=Object(C.a)(L),n=t.loading,c=t.error,l=t.data,i=Object(a.useState)(null),o=Object(d.a)(i,2),s=(o[0],o[1]);return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.send("VKWebAppGetFriends");case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"===n){var r=document.createAttribute("scheme");r.value=a.scheme?a.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),function(){e.apply(this,arguments)}()}),[]),n?r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(E.o,{size:"large",style:{marginTop:20}})):c?"Error: ".concat(c.message):r.a.createElement(E.m,null,r.a.createElement(J,{events:l.Events}))},Q=n(83);function X(){var e=Object(w.a)(['\n  {\n    Events(id: "123") {\n      id\n      name\n      description\n      price\n      location {\n        lat\n        lng\n        name\n      }\n    }\n  }\n']);return X=function(){return e},e}var Y=Object(s.b)(X()),Z=function(e){var t=Object(C.a)(Y),n=t.loading,c=t.error,l=t.data,i=Object(a.useState)(null),o=Object(d.a)(i,2),s=(o[0],o[1]);return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.send("VKWebAppGetGeodata");case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"===n){var r=document.createAttribute("scheme");r.value=a.scheme?a.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),function(){e.apply(this,arguments)}()}),[]),n?r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(E.o,{size:"large",style:{marginTop:20}})):c?"Error: ".concat(c.message):r.a.createElement(E.m,null,r.a.createElement(Q.b,null,r.a.createElement(Q.a,{defaultState:{center:[56.85,60.6],zoom:10},width:"100%"})),r.a.createElement(J,{events:l.Events}))},$=[{id:"events-my",text:"\u041c\u043e\u0438",icon:r.a.createElement(b.a,null)},{id:"events-near",text:"\u0420\u044f\u0434\u043e\u043c",icon:r.a.createElement(y.a,null)},{id:"events-friends",text:"\u0414\u0440\u0443\u0437\u044c\u044f",icon:r.a.createElement(j.a,null)}],ee=function(){var e=Object(a.useState)("events-my"),t=Object(d.a)(e,2),n=t[0],c=t[1],l=function(e){c(e.currentTarget.dataset.story)},i=r.a.createElement(E.q,null,$.map((function(e,t){return r.a.createElement(E.r,{onClick:l,selected:n===e.id,"data-story":e.id,text:e.text,key:t},e.icon)})));return r.a.createElement(E.h,{activeStory:n,tabbar:i},r.a.createElement(p.a,{id:"events-my"},r.a.createElement(q,null)),r.a.createElement(p.a,{id:"events-near"},r.a.createElement(Z,null)),r.a.createElement(p.a,{id:"events-friends"},r.a.createElement(R,null)))},te=new s.a({uri:"https://dvizh-api.herokuapp.com/"}),ne=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement(o.a,{client:te},r.a.createElement(ee,null)))},ae=n(58),re=n(138),ce=n(139),le=[{name:"main",path:"/main"},{name:"project",path:"/project"},{name:"user",path:"/user"}];var ie=n(140);u.a.send("VKWebAppInit");var ue=function(){var e=Object(ae.b)(le,{defaultRoute:"main"});return e.usePlugin(re.a),e.usePlugin(Object(ce.a)({useHash:!0})),e}();ue.start((function(){l.a.render(r.a.createElement(ie.a,{router:ue},r.a.createElement(ne,{router:ue})),document.getElementById("root"))}))}},[[195,1,2]]]);
//# sourceMappingURL=main.7ebf2240.chunk.js.map