(this.webpackJsonpdvizh=this.webpackJsonpdvizh||[]).push([[0],{133:function(e,t,n){e.exports=n.p+"static/media/persik.4e1ec840.png"},207:function(e,t,n){e.exports=n(314)},302:function(e,t,n){},314:function(e,t,n){"use strict";n.r(t);n(208),n(234),n(236),n(237),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276);var a=n(0),r=n.n(a),c=n(82),l=n.n(c),i=n(38),o=n.n(i),s=n(89),m=n.n(s),p=n(122),u=n(55),d=n(67),E=n.n(d),f=n(144),j=n.n(f),b=(n(285),n(27)),v=n(66),h=n(123),y=n(124),g=n.n(y),O=n(125),w=n.n(O),k=n(126),A=n.n(k),x=(n(61),n(62),n(130),n(90),n(127),n(129),n(128),n(13)),z=(n(134),n(131),n(132),n(133),n(302),Object(x.m)(),n(135)),I=n(88),C=n(136),P=n.n(C),S=n(137),K=n.n(S),M=n(138),V=n.n(M),U=n(139),W=n.n(U),F=(Object(x.m)(),function(e){var t=e.project;return r.a.createElement(x.c,{size:"l"},r.a.createElement(x.e,{before:r.a.createElement(x.a,{size:32},r.a.createElement(K.a,null)),size:"l",description:r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(V.a,null),t.location.name),asideContent:r.a.createElement("div",null,r.a.createElement(W.a,null),Math.round(t.price)),bottomContent:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,t.description),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(x.b,{size:"m"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(x.b,{size:"m",mode:"secondary",style:{marginLeft:8}},"\u0421\u043a\u0440\u044b\u0442\u044c")))},t.name))});function J(){var e=Object(z.a)(['\n    {\n        projects(id: "123") {\n            id\n            name\n            description\n            price\n            location {\n                lat\n                lng\n                name\n            }\n        }\n    }\n']);return J=function(){return e},e}Object(x.m)();var T=Object(v.b)(J()),B=function(e){var t=Object(I.a)(T),n=t.loading,a=t.error,c=t.data,l=window.vkMiniAppAPI;return n?r.a.createElement("p",null,"loading..."):a?"Error! ".concat(a.message):(l.getUserInfo().then((function(e){console.log(e.id)})).catch((function(e){console.log(e)})),r.a.createElement(x.j,{id:e.id},r.a.createElement(x.h,{separator:"hide",header:r.a.createElement(x.f,{before:r.a.createElement(P.a,null)},"\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c")},r.a.createElement(x.d,null,c.projects.map((function(e,t){return r.a.createElement(F,{key:t,project:e})}))))))},G=new v.a({uri:"http://localhost:4001/"}),L=new h.VKMiniAppAPI;L.initApp(),window.vkMiniAppAPI=L;var N=function(){var e=Object(a.useState)("projects-my"),t=Object(u.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)("projects-my"),i=Object(u.a)(l,2),s=(i[0],i[1]),d=Object(a.useState)(null),f=Object(u.a)(d,2),v=(f[0],f[1]),h=Object(a.useState)(r.a.createElement(j.a,{size:"large"})),y=Object(u.a)(h,2),O=(y[0],y[1]);Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,v(t),O(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"===n){var r=document.createAttribute("scheme");r.value=a.scheme?a.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),function(){e.apply(this,arguments)}()}),[]);var k=function(e){s(e.currentTarget.dataset.to)},z=function(e){c(e.currentTarget.dataset.story)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, viewport-fit=cover"}),r.a.createElement(b.a,{client:G},r.a.createElement(x.g,{activeStory:n,tabbar:r.a.createElement(x.k,null,r.a.createElement(x.l,{onClick:z,selected:"projects-my"===n,"data-story":"projects-my",text:"\u041c\u043e\u0438"},r.a.createElement(g.a,null)),r.a.createElement(x.l,{onClick:z,selected:"projects-near"===n,"data-story":"projects-near",text:"\u0420\u044f\u0434\u043e\u043c"},r.a.createElement(w.a,null)),r.a.createElement(x.l,{onClick:z,selected:"projects-friends"===n,"data-story":"projects-friends",text:"\u0414\u0440\u0443\u0437\u044c\u044f"},r.a.createElement(A.a,null)))},r.a.createElement(E.a,{id:"projects-my",activePanel:"projects"},r.a.createElement(B,{id:"projects",go:k})),r.a.createElement(E.a,{id:"projects-near",activePanel:"projects"},r.a.createElement(B,{id:"projects",go:k})),r.a.createElement(E.a,{id:"projects-friends",activePanel:"projects"},r.a.createElement(B,{id:"projects",go:k})))))};o.a.send("VKWebAppInit"),l.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[207,1,2]]]);
//# sourceMappingURL=main.e9fe511c.chunk.js.map